(()=>{"use strict";var e={835:(e,n,t)=>{t.d(n,{Z:()=>b});var a=t(81),i=t.n(a),r=t(645),o=t.n(r),s=t(667),c=t.n(s),l=new URL(t(864),t.b),d=new URL(t(458),t.b),h=new URL(t(646),t.b),p=o()(i()),g=c()(l),u=c()(d),m=c()(h);p.push([e.id,`/* montserrat-regular - latin */\n@font-face {\n  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight: 400;\n  src: url(${g}) format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */\n}\n/* montserrat-700 - latin */\n@font-face {\n  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight: 700;\n  src: url(${u}) format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */\n}\n\nbody {\n  color: white;\n  width: 100vw;\n  height: max(100vh, 100%);\n  background-image: url(${m});\n  background-size: cover;\n  background-repeat: no-repeat;\n  font-family: Montserrat;\n  overflow-x: hidden;\n  position: relative;\n}`,""]);const b=p},333:(e,n,t)=>{t.d(n,{Z:()=>u});var a=t(81),i=t.n(a),r=t(645),o=t.n(r),s=t(667),c=t.n(s),l=new URL(t(709),t.b),d=new URL(t(867),t.b),h=o()(i()),p=c()(l),g=c()(d);h.push([e.id,`.garage-controller__option {\n  display: flex;\n  margin-bottom: 5px;\n}\n\n.input_div {\n  background-color: white;\n\n}\n\n.garage-controller__option-btn {\n  padding: 5px;\n  width: 80px;\n  background-color: #fba626;\n  border: 1px solid black;\n  border-radius: 5px;\n  font-weight: 600;\n}\n\n.garage-controller__option-btn:hover:not([disabled]) {\n  background-color: #fb8926;\n}\n\n.garage-controller__option-btn:active:not([disabled]) {\n  transform: scale(0.9);\n}\n\n.garage-controller__option-btn:disabled {\n  background-color: #a9a9a9;\n  opacity: 0.8;\n}\n\n.div__color {\n  background: none;\n  width: 30px;\n  border: none;\n  border-radius: 10px;\n}\n\n.input_div {\n  display: flex;\n  align-items: center;\n  padding: 5px;\n  border-radius: 5px;\n  margin-right: 5px;\n  border: 2px solid #fba62600;\n}\n\n.input_div:focus-within {\n  border: 2px solid #FBA526;\n}\n\n.div__name {\n  border: none;\n  outline: none;\n  height: 100%;\n  font-size: 18px;\n}\n\n.garage__title {\n  font-size: 24px;\n  margin-bottom: 5px;\n  font-weight: 600;\n}\n\n.div__name:focus-within {\n  border: none;\n}\n\n.garage__car {\n  background-color: rgba(0, 0, 0, 0.287);\n  margin-bottom: 10px;\n  padding: 10px;\n}\n\n.car__title {\n  display: flex;\n  gap: 5px;\n  margin-bottom: 5px;\n}\n\n.car__body {\n  position: relative;\n  display: flex;\n  align-items: center;\n  background-color: #1F2937;\n  border-bottom: 3px dashed white;\n}\n\n.car__remote {\n  width: 50px;\n}\n\n.car {\n  width: 100px;\n  transform: translateY(+20%);\n  z-index: 2;\n}\n\n.finish {\n  position: absolute;\n  background-image: url(${p});\n  background-repeat: no-repeat;\n  width: 100px;\n  height: 100px;\n  right: 20vw;\n  transform: translateY(+10%);\n}\n\n.options-btn {\n  background-color: #86668E;\n  padding: 7px;\n  border-radius: 10px;\n  border: 1px solid black;\n  color: white;\n  margin: 10px 5px;\n}\n\n.options-btn:hover:not([disabled]) {\n  background-color: #af3d92;\n}\n\n.options-btn:active:not([disabled]) {\n  transform: scale(0.9);\n}\n\n.options-btn:disabled {\n  background-color: #a9a9a9;\n  opacity: 0.8;\n}\n\n.winner-layout {\n  z-index: 3;\n  background-color: #1f2937d7;\n  width: min(50vw, 500px);\n  height: min(50vw, 300px);\n  position: absolute;\n  top: 50vh;\n  left: 50vw;\n  translate: -50% -50%;\n  border-radius: 20px;\n}\n\n.winner-layout__cup {\n  margin: 0 auto;\n  width: min(30vw, 200px);\n  height: min(30vw, 200px);\n  background: url(${g});\n  background-size: contain;\n}\n\n.winner-layout__winner {\n  margin: 0 auto;\n  text-align: center;\n}`,""]);const u=h},64:(e,n,t)=>{t.d(n,{Z:()=>s});var a=t(81),i=t.n(a),r=t(645),o=t.n(r)()(i());o.push([e.id,".header {\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  align-items: center;\n}\n\n.nav__menu {\n  display: flex;\n}\n\n.menu__item {\n  margin-right: 5px;\n  background-color: #282B30;\n  color: #E9EDEE;\n  font-weight: 500;\n  list-style: none;\n  border: 1px solid black;\n  padding: 1vw;\n}\n\n.menu__item:hover {\n  cursor: pointer;\n  background-color: #F38714;\n  opacity: 0.9;\n}\n\n.menu__item:active {\n transform: scale(0.9);\n}\n\n.header__title {\n  margin-right: max(5vw, 40px);\n  padding: 5px;\n  border-radius: 10px;\n  background-color: rgba(0, 0, 0, 0.382);\n  color: #E9EDEE;\n  text-shadow: 2px 2px 2px #000;\n}",""]);const s=o},618:(e,n,t)=>{t.d(n,{Z:()=>s});var a=t(81),i=t.n(a),r=t(645),o=t.n(r)()(i());o.push([e.id,".pagination,\n.pagination-winners {\n  display: flex;\n  justify-content: center;\n  gap: 10px;\n}",""]);const s=o},683:(e,n,t)=>{t.d(n,{Z:()=>s});var a=t(81),i=t.n(a),r=t(645),o=t.n(r)()(i());o.push([e.id,"table {\n  width: 50%;\n  border-collapse: collapse;\n  margin: 20px 0;\n}\n\nth, td {\n  border: 1px solid #ccc;\n  padding: 10px;\n  text-align: center;\n}\n\nth {\n  background-color: #ffc680;\n  font-weight: bold;\n  color: black;\n}\n\ntr {\n  background-color: #f9f9f9;\n  color: black;\n}\n\ntr:hover {\n  background-color: #ffd580;\n}\n",""]);const s=o},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",a=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),a&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),a&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,a,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(a)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(o[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);a&&o[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),n.push(d))}},n}},667:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var n=[];function t(e){for(var t=-1,a=0;a<n.length;a++)if(n[a].identifier===e){t=a;break}return t}function a(e,a){for(var r={},o=[],s=0;s<e.length;s++){var c=e[s],l=a.base?c[0]+a.base:c[0],d=r[l]||0,h="".concat(l," ").concat(d);r[l]=d+1;var p=t(h),g={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)n[p].references++,n[p].updater(g);else{var u=i(g,a);a.byIndex=s,n.splice(s,0,{identifier:h,updater:u,references:1})}o.push(h)}return o}function i(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,i){var r=a(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<r.length;o++){var s=t(r[o]);n[s].references--}for(var c=a(e,i),l=0;l<r.length;l++){var d=t(r[l]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}r=c}}},569:e=>{var n={};e.exports=function(e,t){var a=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var a="";t.supports&&(a+="@supports (".concat(t.supports,") {")),t.media&&(a+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(a+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),a+=t.css,i&&(a+="}"),t.media&&(a+="}"),t.supports&&(a+="}");var r=t.sourceMap;r&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleTagTransform(a,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},646:(e,n,t)=>{e.exports=t.p+"4963b564bef2af79c287.jpeg"},458:(e,n,t)=>{e.exports=t.p+"56c09b9a46af6a54eeb3.woff2"},864:(e,n,t)=>{e.exports=t.p+"acb6629fe45c43ad5d8b.woff2"},867:(e,n,t)=>{e.exports=t.p+"5ea95e5ee4e43e43c9ec.png"},709:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KDQo8IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiANCgkgdmlld0JveD0iMCAwIDMyIDMyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwb2x5bGluZSBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgcG9pbnRzPSI2LDI4IDYsNSAyNiw1IDI2LDE5IDYsMTkgIi8+DQo8cmVjdCB4PSIyMiIgeT0iNSIgd2lkdGg9IjQiIGhlaWdodD0iNCIvPg0KPHJlY3QgeD0iMTkiIHk9IjE1IiB3aWR0aD0iMyIgaGVpZ2h0PSI0Ii8+DQo8cmVjdCB4PSIxOSIgeT0iOSIgd2lkdGg9IjMiIGhlaWdodD0iMyIvPg0KPHJlY3QgeD0iMTMiIHk9IjE1IiB3aWR0aD0iMyIgaGVpZ2h0PSI0Ii8+DQo8cmVjdCB4PSIxMyIgeT0iOSIgd2lkdGg9IjMiIGhlaWdodD0iMyIvPg0KPHJlY3QgeD0iNiIgeT0iMTUiIHdpZHRoPSI0IiBoZWlnaHQ9IjQiLz4NCjxyZWN0IHg9IjYiIHk9IjkiIHdpZHRoPSI0IiBoZWlnaHQ9IjMiLz4NCjxyZWN0IHg9IjIyIiB5PSIxMiIgd2lkdGg9IjQiIGhlaWdodD0iMyIvPg0KPHJlY3QgeD0iMTYiIHk9IjEyIiB3aWR0aD0iMyIgaGVpZ2h0PSIzIi8+DQo8cmVjdCB4PSIxMCIgeT0iMTIiIHdpZHRoPSIzIiBoZWlnaHQ9IjMiLz4NCjxyZWN0IHg9IjE2IiB5PSI1IiB3aWR0aD0iMyIgaGVpZ2h0PSI0Ii8+DQo8cmVjdCB4PSIxMCIgeT0iNSIgd2lkdGg9IjMiIGhlaWdodD0iNCIvPg0KPC9zdmc+"}},n={};function t(a){var i=n[a];if(void 0!==i)return i.exports;var r=n[a]={id:a,exports:{}};return e[a](r,r.exports,t),r.exports}t.m=e,t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var a=n.getElementsByTagName("script");if(a.length)for(var i=a.length-1;i>-1&&!e;)e=a[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{class e{static create(e,n,t){const a=document.createElement(e);return n&&n.length>0&&a.classList.add(...n),t&&(a.innerHTML=t),a}}var n,a=t(379),i=t.n(a),r=t(795),o=t.n(r),s=t(569),c=t.n(s),l=t(565),d=t.n(l),h=t(216),p=t.n(h),g=t(589),u=t.n(g),m=t(333),b={};function v(e=[]){return e.length?`?${e.map((e=>`${e.key}=${e.value}`)).join("&")}`:""}function f(){const e=["Toyota","Ford","Honda","Chevrolet","BMW","Mercedes-Benz","Volkswagen","Audi","Nissan","Hyundai"],n=Math.floor(Math.random()*e.length),t=["Phoenix","Thunderbolt","Stealth","Inferno","Silver","Midnight","Cosmic","Eclipse","Thunderstorm","Velocity"],a=Math.floor(Math.random()*t.length);return`${e[n]} ${t[a]}`}function y(){const e=Math.floor(256*Math.random()),n=Math.floor(256*Math.random()),t=Math.floor(256*Math.random());return`#${e.toString(16)}${n.toString(16)}${t.toString(16)}`}b.styleTagTransform=u(),b.setAttributes=d(),b.insert=c().bind(null,"head"),b.domAPI=o(),b.insertStyleElement=p(),i()(m.Z,b),m.Z&&m.Z.locals&&m.Z.locals;class w{constructor(){this.url="http://localhost:3000",this.path={garage:"/garage",winners:"/winners",engine:"/engine"}}async getCars(e=[]){const n=await fetch(`${this.url}${this.path.garage}${v(e)}`);return{cars:await n.json(),carsAmount:Number(n.headers.get("X-Total-Count"))}}async getCar(e){const n=await fetch(`${this.url}${this.path.garage}/${e}`);return await n.json()}async createCar(e){const n=await fetch(`${this.url}${this.path.garage}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await n.json()}async deleteCar(e){const n=await fetch(`${this.url}${this.path.garage}/${e}`,{method:"DELETE"});return await n.json()}async updateCar(e,n){const t=await fetch(`${this.url}${this.path.garage}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return await t.json()}async startEngine(e){const n=await fetch(`${this.url}${this.path.engine}?id=${e}&status=started`,{method:"PATCH"});return await n.json()}async stopEngine(e){const n=await fetch(`${this.url}${this.path.engine}?id=${e}&status=stopped`,{method:"PATCH"});return await n.json()}async switchEngineToDrive(e){const n=await fetch(`${this.url}${this.path.engine}?id=${e}&status=drive`,{method:"PATCH"});return await n.json()}async getWinners(e=[]){const n=await fetch(`${this.url}${this.path.winners}${v(e)}`);return{winners:await n.json(),winnersAmount:Number(n.headers.get("X-Total-Count"))}}async getWinner(e){const n=await fetch(`${this.url}${this.path.winners}/${e}`);return await n.json()}async createWinner(e){const n=await fetch(`${this.url}${this.path.winners}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await n.json()}async deleteWinner(e){const n=await fetch(`${this.url}${this.path.winners}/${e}`,{method:"DELETE"});return await n.json()}async updateWinner(e,n){const t=await fetch(`${this.url}${this.path.winners}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return await t.json()}}function P(e){return`<svg  viewBox="0 0 1000 1000" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000">\n  <g id="SVGRepo_bgCarrier" stroke-width="0"/>\n  <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>\n  <g id="SVGRepo_iconCarrier">\n  <path d="M766.976 508.736c80.576 0 152.448 32.128 199.232 82.176" fill="#AEBCC3"/>\n  <path d="M64.704 684.992c10.816 19.2 32.064 32.192 56.576 32.192h784.64c35.84 0 64.832-27.648 64.832-61.76v-17.408h-36.608a15.744 15.744 0 0 1-16.064-15.296V550.912a277.568 277.568 0 0 0-150.144-44.16h1.6l-55.04-0.256c-53.632-115.2-157.504-210.752-294.208-210.752-136.512 0-251.008 89.728-282.176 210.688h-16.832c-35.456 0-56.128 27.392-56.128 61.184" fill="${e}"/>\n  <path d="M64.704 654.464h13.76a39.168 39.168 0 0 0 40.064-38.272v-17.6c0-21.12-17.92-38.208-40.064-38.208h-13.376" fill="#F5BB1D"/>\n  <path d="M160 684.992a101.632 96.832 0 1 0 203.264 0 101.632 96.832 0 1 0-203.264 0Z" fill="#455963"/>\n  <path d="M218.88 684.992a42.752 40.768 0 1 0 85.504 0 42.752 40.768 0 1 0-85.504 0Z" fill="#AEBCC3"/>\n  <path d="M652.032 684.992a101.568 96.832 0 1 0 203.136 0 101.568 96.832 0 1 0-203.136 0Z" fill="#455963"/>\n  <path d="M710.912 684.992a42.752 40.768 0 1 0 85.504 0 42.752 40.768 0 1 0-85.504 0Z" fill="#AEBCC3"/>\n  <path d="M966.272 591.104v-0.192a257.92 257.92 0 0 0-48.192-40V622.72c0 8.448 7.232 15.296 16.064 15.296h36.608v-42.304l-4.48-4.608z" fill="#F5BB1D"/>\n  <path d="M405.568 335.616c-104.896 6.336-191.296 76.8-216.64 170.816h216.64V335.616zM445.696 506.432h216.64c-41.216-86.848-117.12-159.616-216.64-170.048v170.048z" fill="#000000"/>\n  </g>\n  </svg>`}!function(e){e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.ITERNAL_SERVER_ERROR=500]="ITERNAL_SERVER_ERROR"}(n||(n={}));var _=t(683),I={};I.styleTagTransform=u(),I.setAttributes=d(),I.insert=c().bind(null,"head"),I.domAPI=o(),I.insertStyleElement=p(),i()(_.Z,I),_.Z&&_.Z.locals&&_.Z.locals;var C=t(618),x={};x.styleTagTransform=u(),x.setAttributes=d(),x.insert=c().bind(null,"head"),x.domAPI=o(),x.insertStyleElement=p(),i()(C.Z,x),C.Z&&C.Z.locals&&C.Z.locals;class E{constructor(n,t){this.currentPage=1,this.totalItems=n,this.totalPages=Math.ceil(this.totalItems/t),this.PaginationElement=e.create("div",["pagination-winners"]),this.composePagination()}render(){console.log("render"),this.PaginationElement=e.create("div",["pagination-winners"]),this.composePagination()}rerender(){console.log("rerender");const e=document.querySelector(".pagination-winners");e?(e.innerHTML="",this.render(),e.append(this.getPagination())):this.render()}nextPage(){console.log("i am in next method"),this.currentPage<this.totalPages&&(this.currentPage+=1,E.onPageChangeCallback(this.currentPage))}prevPage(){this.currentPage>1&&(this.currentPage-=1,E.onPageChangeCallback(this.currentPage))}setOnPageChangeCallback(e){E.onPageChangeCallback=e.bind(this)}composePagination(){var n;const t=e.create("button",["pagination-winners__prev"],"Prev");t.addEventListener("click",(()=>{this.prevPage(),this.rerender()}));const a=e.create("button",["pagination-winners__next"],"Next");a.addEventListener("click",(()=>{console.log("ya ebu next"),this.nextPage(),this.rerender()}));const i=e.create("div",["pagination-winners__current"],`${this.currentPage}`);1===this.currentPage?t.disabled=!0:this.currentPage===this.totalPages?a.disabled=!0:(t.disabled=!1,a.disabled=!1),null===(n=this.PaginationElement)||void 0===n||n.append(t,i,a)}getPagination(){return this.PaginationElement}}E.onPageChangeCallback=()=>{};const k=E;class S{constructor(){this.currentPage=1,this.WinnersElement=e.create("div",["winners"]),this.Api=new w,this.Pagination=null,this.composeWinners()}render(){this.WinnersElement.innerHTML="",this.composeWinners()}async composeWinners(){const n=e.create("div",["winners__container"]),t=e.create("table",["winners__table"]),a=[{key:"_page",value:this.currentPage.toString()},{key:"_limit",value:"10"}],i=await this.Api.getWinners(a);this.WinnersElement.innerHTML=`WINNERS(${i.winnersAmount})`,t.innerHTML="<table>\n    <tr>\n      <th>№</th>\n      <th>Car</th>\n      <th>Model</th>\n      <th>Wins</th>\n      <th>Best time (sec)</th>\n    </tr></table>",i.winners.forEach((async e=>{const n=await this.Api.getCar(e.id);t.innerHTML+=`<tr>\n      <td>${e.id}</td>\n      <td>${P(`${n.color}`)}</td>\n      <td>${n.name}</td>\n      <td>${e.wins}</td>\n      <td>${e.time}</td>\n    </tr>`})),n.append(t);const r=i.winnersAmount;null===this.Pagination&&(this.Pagination=new k(r,10),this.Pagination.setOnPageChangeCallback((e=>{this.currentPage=e,this.render()})),console.log(this.currentPage)),this.WinnersElement.append(n,this.Pagination.getPagination())}getWinners(){return this.WinnersElement}}class T{constructor(n,t){this.currentPage=1,this.totalItems=n,this.totalPages=Math.ceil(this.totalItems/t),this.PaginationElement=e.create("div",["pagination"]),this.composePagination()}render(){this.PaginationElement=e.create("div",["pagination"]),this.composePagination()}rerender(){const e=document.querySelector(".pagination");e&&(e.innerHTML="",this.render(),e.append(this.getPagination()))}nextPage(){this.currentPage<this.totalPages&&(this.currentPage+=1,T.onPageChangeCallback(this.currentPage))}prevPage(){this.currentPage>1&&(this.currentPage-=1,T.onPageChangeCallback(this.currentPage))}setOnPageChangeCallback(e){T.onPageChangeCallback=e.bind(this)}composePagination(){var n;const t=e.create("button",["pagination__prev"],"Prev");t.addEventListener("click",(()=>{this.prevPage(),this.rerender()}));const a=e.create("button",["pagination__next"],"Next");a.addEventListener("click",(()=>{this.nextPage(),this.rerender()}));const i=e.create("div",["pagination__current"],`${this.currentPage}`);1===this.currentPage?t.disabled=!0:this.currentPage===this.totalPages?a.disabled=!0:(t.disabled=!1,a.disabled=!1),null===(n=this.PaginationElement)||void 0===n||n.append(t,i,a)}getPagination(){return this.PaginationElement}}T.onPageChangeCallback=()=>{};const M=T;class W{constructor(){this.currentPage=1,this.raceIdWinner=null,this.raceTimeWinner=null,this.raceNameWinner=null,this.raceVelocityWinner=null,this.GarageElement=e.create("div",["garage"]),this.Api=new w,this.Pagination=null,this.composeGarage()}render(){setTimeout((()=>{this.GarageElement.innerHTML="",this.composeGarage()}),500)}async composeGarage(){const n=e.create("div",["garage"]),t=e.create("div",["garage-controller"]);t.append(this.composeCreateOption(),W.composeUpdateOption(),this.composeRaceOption());const a=[{key:"_page",value:this.currentPage.toString()},{key:"_limit",value:"7"}],i=await this.Api.getCars(a),r=await e.create("div",["garage__title"],`GARAGE (${i.carsAmount})`),o=e.create("div",["garage__cars"]);o.append(this.composeGarageCars(i)),n.append(t,r,o),null===this.Pagination?(this.Pagination=new M(i.carsAmount,7),this.Pagination.setOnPageChangeCallback((e=>{this.currentPage=e,this.render()}))):this.Pagination.totalPages!==Math.ceil(i.carsAmount/7)?(this.Pagination.totalPages>Math.ceil(i.carsAmount/7)?this.Pagination.prevPage():this.Pagination.currentPage=this.currentPage,this.Pagination.totalPages=Math.ceil(i.carsAmount/7),this.Pagination.totalItems=i.carsAmount,this.Pagination.render()):this.Pagination.totalPages=Math.ceil(i.carsAmount/7),this.GarageElement.append(n,this.Pagination.getPagination())}composeRaceOption(){const t=e.create("div",["options__div"]),a=e.create("button",["reset-btn","options-btn"],"RESET");a.disabled=!0;const i=e.create("button",["race-btn","options-btn"],"RACE");i.addEventListener("click",(()=>{this.raceIdWinner=null,this.raceNameWinner=null,this.raceTimeWinner=null,this.raceVelocityWinner=null;const t=document.querySelector(".garage-controller"),i=null==t?void 0:t.querySelectorAll("input, button"),r=document.querySelectorAll(".start-btn");null==i||i.forEach((e=>{e.disabled=!0})),r.forEach((e=>{e.click()})),setTimeout((async()=>{try{const e=await this.Api.getWinner(this.raceIdWinner);if(console.log(e.id),void 0===e.id)throw new Error(`Error: ${n.NOT_FOUND}`);if(null!==this.raceTimeWinner){const n=this.raceTimeWinner<e.time?this.raceTimeWinner:e.time,t=e.wins+1,a={id:e.id,wins:t,time:n};await this.Api.updateWinner(e.id,a)}}catch(e){null===this.raceTimeWinner&&(this.raceTimeWinner=12);const n=await this.Api.createWinner({id:this.raceIdWinner,time:this.raceTimeWinner,wins:1});console.log(n)}if(null!==this.raceIdWinner&&null!==this.raceNameWinner&&null!==this.raceTimeWinner){const n=e.create("div",["winner-layout"]),t=e.create("div",["winner-layout__cup"]),a=e.create("div",["winner-layout__winner"],`${this.raceNameWinner} won in ${this.raceTimeWinner} sec`);n.append(t,a),document.body.append(n),setTimeout((()=>{const e=document.querySelector(".winner-layout");null==e||e.remove()}),3e3)}a.disabled=!1}),6e3)})),a.addEventListener("click",(()=>{document.querySelectorAll(".stop-btn").forEach((e=>{a.disabled=!0,i.disabled=!1,e.click()}))}));const r=e.create("button",["generate-btn","options-btn"],"GENERATE CARS");return r.addEventListener("click",(()=>{for(let e=0;e<100;e+=1){const e=f(),n=y();this.Api.createCar({name:e,color:n})}this.render()})),t.append(i,a,r),t}composeCreateOption(){const n=e.create("div",["garage-controller__option","create"]),t=e.create("div",["create__div","input_div"]),a=e.create("input",["create__div-name","div__name"]),i=e.create("input",["create__div-color","div__color"]);i.value="#e0218A",i.setAttribute("type","color"),t.append(a,i);const r=e.create("button",["garage-controller__option-btn","create-btn"],"Create");return r.addEventListener("click",(async()=>{const e=a.value?a.value:f();await this.Api.createCar({name:e,color:i.value}),this.render()})),n.append(t,r),n}static composeUpdateOption(){const n=e.create("div",["garage-controller__option","update"]),t=e.create("div",["update__div","input_div"]),a=e.create("input",["update__div-name","div__name"]);a.disabled=!0;const i=e.create("input",["update__div-color","div__color"]);i.setAttribute("type","color"),t.append(a,i);const r=e.create("button",["garage-controller__option-btn","update-btn"],"Update");return r.disabled=!0,n.append(t,r),n}composeGarageCars(n){const t=e.create("div",["garage__cars"]);return n.cars.forEach((n=>{const a=e.create("div",["garage__car"]),i=e.create("div",["car__title"]),r=e.create("button",["select-btn"],"Select");r.addEventListener("click",(()=>{const e=document.querySelector(".update-btn");e.disabled=!1;const t=document.querySelector(".update__div-name"),a=document.querySelector(".update__div-color");t.disabled=!1,t.value=n.name,a.value=n.color,e.addEventListener("click",(()=>{const e={name:t.value,color:a.value};this.Api.updateCar(n.id,e),this.render()}))}));const o=e.create("button",["remove-btn"],"Remove");o.addEventListener("click",(()=>{this.Api.deleteCar(n.id),this.Api.deleteWinner(n.id),this.render(),(new S).render()}));const s=e.create("div",["remove-btn"],`${n.name}`),c=e.create("div",["car__body"]),l=e.create("div",["car__remote"]),d=e.create("button",["start-btn"],"Start"),h=e.create("button",["stop-btn"],"Stop");h.disabled=!0,l.append(d,h);const p=e.create("div",["car"],`${P(n.color)}`);let g=!1;d.addEventListener("click",(async()=>{g=!1,d.disabled=!0,h.disabled=!1;const e=await this.Api.startEngine(n.id);console.log(e);const t=Number((e.distance/e.velocity/1e3).toFixed(3));console.log(`Time to finish ${t}`);const a=.81*window.innerWidth-150;console.log(`Need to pass ${a}`);const i=1e3*t,r=a/240;let o=0;!function e(){g||(o+=r,p.style.translate=`${o}px`,o<a&&setTimeout(e,i/240))}();try{await this.Api.switchEngineToDrive(n.id),(null===this.raceVelocityWinner||e.velocity>this.raceVelocityWinner)&&(this.raceIdWinner=n.id,this.raceNameWinner=n.name,this.raceTimeWinner=t,this.raceVelocityWinner=e.velocity)}catch(e){g=!0}})),h.addEventListener("click",(async()=>{h.disabled=!0,d.disabled=!1,g=!0,await this.Api.stopEngine(n.id),p.style.translate="0"}));const u=e.create("div",["finish"]);c.append(l,p,u),i.append(r,o,s),a.append(i,c),t.append(a)})),t}getGarage(){return this.GarageElement}}var A=t(64),$={};$.styleTagTransform=u(),$.setAttributes=d(),$.insert=c().bind(null,"head"),$.domAPI=o(),$.insertStyleElement=p(),i()(A.Z,$),A.Z&&A.Z.locals&&A.Z.locals;class N{constructor(){this.onGarageClickCallback=()=>{},this.onWinnersClickCallback=()=>{}}composeHeader(){const n=e.create("div",["header"]),t=e.create("nav",["header__nav"]),a=e.create("ul",["nav__menu"]),i=e.create("li",["menu__item"],"Garage");i.addEventListener("click",(()=>{this.onGarageClickCallback()}));const r=e.create("li",["menu__item"],"Winners");r.addEventListener("click",(()=>{this.onWinnersClickCallback()})),a.append(i,r),t.append(a);const o=e.create("h1",["header__title"],"Async Race");return n.append(t,o),n}setOnGarageClickCallback(e){this.onGarageClickCallback=e}setOnWinnersClickCallback(e){this.onWinnersClickCallback=e}getHeader(){return this.composeHeader()}}var Z=t(835),j={};j.styleTagTransform=u(),j.setAttributes=d(),j.insert=c().bind(null,"head"),j.domAPI=o(),j.insertStyleElement=p(),i()(Z.Z,j),Z.Z&&Z.Z.locals&&Z.Z.locals,console.log("Hello World!"),class{static composePage(){const n=new N,t=new W,a=new S,i=e.create("main",["main"]),r=t.getGarage(),o=a.getWinners();o.style.display="none",setTimeout((()=>{i.append(r,o)}),50),document.body.append(n.getHeader(),i),n.setOnGarageClickCallback((()=>{const e=document.querySelector(".garage"),n=document.querySelector(".winners");e.style.display="block",n.style.display="none"})),n.setOnWinnersClickCallback((()=>{a.render();const e=document.querySelector(".garage"),n=document.querySelector(".winners");e.style.display="none",n.style.display="block"}))}}.composePage()})()})();